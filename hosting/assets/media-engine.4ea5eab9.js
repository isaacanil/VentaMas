function f(r){this.value=r,this.match=function(t){return this.value>=t.height}}function l(r){this.value=r,this.match=function(t){return this.value<t.height}}function c(r){this.value=r,this.match=function(t){return this.value>=t.width}}function p(r){this.value=r,this.match=function(t){return this.value<t.width}}function w(r){this.value=r,this.match=function(t){return this.value===t.orientation}}var m=function(t,n){switch(t){case"max-height":return new f(n);case"min-height":return new l(n);case"max-width":return new c(n);case"min-width":return new p(n);case"orientation":return new w(n);default:throw new Error(n)}};function y(r,t){this.left=r,this.right=t,this.match=function(n){return r.match(n)&&t.match(n)}}function d(r,t){this.left=r,this.right=t,this.match=function(n){return r.match(n)||t.match(n)}}var g=function(t,n,e){switch(t){case"and":return new y(n,e);case",":return new d(n,e);default:throw new Error(value)}},E=m,O=g,o=/[0-9]/,h=/[a-z|\-]/i,M=/\s/,v=/:/,T=/,/,b=/and$/,x=/@/;function A(r){for(var t=0,n=[];t<r.length;){var e=r[t];if(x.test(e))for(e=r[++t];h.test(e)&&e!==void 0;)e=r[++t];if(M.test(e)||e===")"||e==="("){t++;continue}if(v.test(e)||T.test(e)){t++,n.push({type:"operator",value:e});continue}if(o.test(e)){for(var i="";o.test(e);)i+=e,e=r[++t];n.push({type:"number",value:i});continue}if(h.test(e)){for(var i="";h.test(e)&&e!==void 0;)i+=e,e=r[++t];b.test(i)?n.push({type:"operator",value:i}):n.push({type:"literal",value:i});continue}throw new TypeError("Tokenizer: I dont know what this character is: "+e)}return n}function z(r){for(var t=[],n=[];r.length>0;){var e=r.shift();if(e.type==="number"||e.type==="literal"){t.push(e);continue}if(e.type==="operator"){if(v.test(e.value)){e={type:"query",key:t.pop(),value:r.shift()},t.push(e);continue}for(;n.length>0;)t.unshift(n.pop());n.push(e)}}for(;n.length>0;)t.unshift(n.pop());function i(){var u=t.shift();if(u.type==="number")return parseInt(u.value);if(u.type==="literal")return u.value;if(u.type==="operator"){var a=i(),s=i();return O(u.value,a,s)}if(u.type==="query"){var a=u.key.value,s=u.value.value;return E(a,s)}}return i()}var C={parse:function(r){var t=A(r),n=z(t);return n}},H=C,I=function(r,t){var n={};return Object.keys(r).forEach(function(e){H.parse(e).match(t)&&Object.assign(n,r[e])}),n};export{I as s};
